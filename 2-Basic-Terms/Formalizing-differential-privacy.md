# 2.3 形式化差分隐私

我们将从差异隐私的技术定义开始，然后继续解释它。差异隐私将通过过程提供隐私；特别是它将引入随机性。最早的隐私保护做法是使用随机响应技术，这是一种在社会科学中发展起来的技术，用于收集有关禁运或非法行为的统计信息（通过是否拥有财产 $P$ 判断）。研究参与者通过下列做法报告他们是否有财产 $P$：

* 1.掷硬币。

* 2.如果是反面，那就如实回答。

* 3.如果是正面，则掷第二枚硬币，正面回答“是”，反面回答“否”。

“隐私”来源于对任何输出的合理否认；特别是，如果拥有财产 $P$ 相当于从事非法行为，即使是“是”答案也不构成犯罪，因为无论被告是否实际拥有财产 $P$ ，这个答案出现的概率至少为 $1/4$。准确度来自于对噪声产生过程的理解（随机分组中引入虚假的“是”和“否”答案）：预期的“是”答案的概率是：没有属性 $P$ 的参与者概率的 $1/4$ 加上有属性 $P$ 的概率的 $3/4$ 。因此，如果 $p$ 是具有 $p$ 属性的参与者的真实概率，则“是”答案的预期概率为 $(1/4)(1-p)+(3/4)p=(1/4)+p/2$。因此，我们可以将 $p$ 估计为回答“是”的概率的两倍减去 $1/2$ ，即 $2((1/4)+p/2)-1/2$ (*此处个人感觉有误*) 。


*注：此处令 $P_A$ 为真实的概率，$P_B$ 为经过机制变换后得到的概率，
这样，可以由变换之后的概率$P_B$得到真实概率$P_A$:*

$$
\begin{aligned}
P_B &=  1/4 (1 - P_A) + 3/4 P_A \\
&= 1/4 + 1/2 P_A \\
P_A &= 2 * P_B - 1/2
\end{aligned}
$$

（*上述的例子可以得出，经过随机化之后，对个人数据是会有不确定性，无法得知个人是什么样的属性，但最后经过“抛硬币机制”处理后得到的总体概率却能还原出数据集原有总体概率。可以尝试，将原有的 $P_A$ 取任何值，都能从最后的 $P_B$ 还原出来，但此时单个个体的属性是随机化的。*）

随机化是必不可少的；更确切地说，任何非平凡的隐私都要对所有现有的或未来的辅助信息来源随机化处理（包括其他数据库、研究、网站、在线社区、闲话、报纸、政府统计等等）。下面我们来说明一个简单的混合参数。假设，出于矛盾的原因，假设我们有一个非平凡的确定性算法。存在一个查询，并且有两个数据库在此查询下产生不同的输出。 一次更改一行，我们看到存在一对仅在单行值上有所不同的数据库，在同一数据库上同一查询产生不同的输出。 知道该数据库是这两个几乎完全相同的数据库之一的对手将了解未知行中数据的值。

（*注1：“**非平凡的**” 具有一定复杂度，需要一定脑力活动、加工过程才能得到的结果或结论。The antonym nontrivial is commonly used by engineers and mathematicians to indicate a statement or theorem that is not obvious or easy to prove. 摘自wikipedia*） 

（*注2:为引入随机化和相邻数据集做铺垫。*）

因此，我们将需要讨论随机算法的输入和输出空间。 在本专论中，我们使用离散的概率空间。 有时我们会将算法描述为从连续分布中采样，但是应始终以适当的方式将其离散化为有限精度（请参见后文的备注2.1）。 通常，具有域 $A$ 和（离散）范围 $B$ 的随机算法将与从$A$到$B$上的概率单纯形的映射相关联，表示为$\Delta(B)$：

**定义2.1（概率单纯形）**  给定一个离散集 $B$，将 $B$ 上的概率单纯形，表示为 $\Delta(B)$ ，其定义为：  

$$
\Delta(B) = \{ x \in \mathbb{R}^{|B|} : x_i \geqslant 0\    for\ all\ i\ and\ \sum_{i=1}^{|B|}x_i = 1 \}
$$
  
（*个人理解：此处的 $\mathbb{R}$ 可以与数据库中的数据集合类比，$x_i$ 即为在数据集上的各种映射，将数据集映射到各个离散状态集合 $B$ 的元素中，且这些映射产生离散集合 $B$ 的概率之和为 $1$ *）

**定义2.2（随机化算法）** 具有域$A$和离散范围$B$的随机算法$\mathcal{M}$ 与 映射 $M:A \to \Delta(B)$相关联。 在输入$a∈A$时，算法$\mathcal{M}$以概率$M(a)_b$输出$\mathcal{M}(a)=b$（$b∈B$）。概率空间包括了硬币翻转算法$\mathcal{M}$的概率空间。

（*个人理解：$\mathcal{M}$ 是种映射算法（机制），将原始域数据成为q其他离散形式（比如直方图）。上文的翻转硬币机制就是该定义中的 $\mathcal{M}$  。此处的$\mathcal{M}$与映射 $M:A \to \Delta(B)$有联系但不相同，$\mathcal{M}$指将原始数据变成其他数据的方法，$M:A \to \Delta(B)$是指从$A \to B$的映射概率。）*）

我们将数据库 $x$ 视为来自全集 $\chi$ 的记录的集合。用它们的直方图表示数据库通常会很方便：$x \in \mathbb{N}^{|\chi|}$ ，其中每个项  $x_i$ 表示数据库 $x$ 中元素的数量。 类型 $i\in\chi$（我们略微滥用了符号，让符号 $\mathbb{N}$ 表示所有非负整数的集合，包括零）。 在这个表示中，两个数据库 $x$ 和 $y$ 之间距离的自然度量将是它们的     $\ell_1$ 距离：

**定义 2.3 (数据库之间距离)** 将数据库的$\ell_1$ 范数距离表示为 $||x||_1$ 其定义为:

$$
||x||_1 = \sum_{i=1}^{|\chi|}|x_i| = 1
$$

数据库 $x$ 和 $y$ 之间的 $\ell_1$ 距离为 $||x-y||_1$