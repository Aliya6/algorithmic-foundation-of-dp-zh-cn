# 泛化界限

我们在一大集合$$\mathcal{Q}$$的查询上有一个待近似的分布$$\mathcal{D}$$。下面的引理说，一个足够小的概要，可以对随机选择的查询子集$$S \subset \mathcal{Q}$$的答案给出足够好的近似值，根据$$\mathcal{Q}$$上的分布$$\mathcal{D}$$进行采样，也将在$$S$$的选择上以高概率给出对$$\mathcal{Q}$$中大多数查询的答案（即$$\mathcal{Q}$$的大部分质量，由$$\mathcal{D}$$加权）的良好近似。当然，为了有意义，概要必须包括一种为$$\mathcal{Q}$$中的所有查询提供答案的方法，而不仅仅对作为输入接收的子集$$S \subset \mathcal{Q}$$。我们的特定生成器（第 6.2.2 节和定理 6.6 中描述）将生成合成数据库；要回答任何查询，可以简单地将查询应用于合成数据库，但引理将以完全一般性的方式陈述。

令$$\mathcal{R}(y,q)$$ 表示概要$$y$$（当用作重建过程的输入时）对查询$$q$$给出的答案。如果$$max_{q \in S}|\mathcal{R}(y,q)−q(x)| \leq \lambda.$$，则概要$$y$$会$$\lambda-拟合$$数据库$$x$$ 关于一组$$S$$的查询。让$$|y|$$表示$$y$$所需的位数。由于我们的概要将是合成数据库，$$|y| = Nlog_2|\mathcal{X}|$$对于一些适当选择的$$N$$个域中元素。泛化界限表明，如果$$|y|$$ $$\lambda-拟合$$ $$x$$相对于足够大（大于 $$|y|$$）的随机选择的从分布$$\mathcal{D}$$中采样的查询集$$S$$，则对于$$\mathcal{D}$$中大部分，$$|y|$$以高概率$$\lambda-拟合$$ $$x$$. 

**引理 6.5.** 令$$\mathcal{D}$$为查询集$$\mathcal{Q}= {q : \mathcal{X}^* \rightarrow \mathbb{R}}.$$上的任意分布。对于所有$$m \in \mathcal{N}, \gamma \in (0,1),\eta \in [0,1/2)$$，设$$a = 2(log(1/\gamma) + m)/(m(1 − 2\eta)).$$然后，以至少$$1-\gamma$$的概率选择$$S ~ \mathcal{D}^{a \cdot m}$$，每个概要$$y$$的大小至多$$m$$位，对于查询集$$S$$ $$\lambda-拟合$$ $$x$$，并且对于至少$$(1/2+\eta)$$部分的$$\mathcal{D}$$ $$\lambda-拟合$$ $$x$$.

在证明引理之前，我们观察到$$a$$是一个压缩因子：我们将$$am$$查询的答案压缩到$$m$$位输出中，因此较大的$$a$$对应于更多的压缩。通常，这意味着更好的泛化，事实上我们看到，如果 a 更大，那么保持 m 和 γ 固定，我们将能够拥有更大的 η。该引理还表明，对于任何给定的输出大小 m，获得在 D 的大多数（1/2 + η 分数）上表现良好的输出所需的输入查询数量仅为 O(log(1/γ) +米）。这很有趣，因为基本生成器所需的查询 k 数量较少，通过由于 kT 查询采样而导致的隐私损失 εsample 及其与松弛度 μ 的反比关系（公式 6.7），提高了 boosting 输出的准确性算法。

引理 6.5 的证明。修复根据 Da·m 独立选择的一组查询 S ⊂ Q。检查任意 m 位概要 y。请注意，y 由 m 位字符串描述。假设 |R(y, q) − q(x)| 则 y 不好> λ 至少为 D 的 (log(1/γ) + m)/(a · m) 分数，这意味着 Prq∼D[|R(y, q) − q(x)| > λ] ≥ (log(1/γ) + m)/(a·m)。换句话说，如果存在分数权重至少为 (log(1/γ) + m)/(a · m) 的集合 Qy ⊂ Q，使得 |R(y, q) − q(x)，则 y 是坏的| > λ 对于 q ∈ Qy。对于这样的 y，y 对每个 q ∈ S 给出 λ 精确答案的概率是多少？这正是没有任何一个的概率

S 中的查询在 Qy 中，或 (1 − (log(1/γ) + m)/(a · m))a·m ≤ e−(log(1/γ)+m) ≤ γ · 2− m 对 y 的所有 2m 个可能选择进行并集，存在 m 位概要 y 的概率，该概要 y 对于 S 中的所有查询都是准确的，但对于一组分数权重 (log(1/β) + m )/(a·m)至多为γ。令 k = am = |S|我们看到 a > 2(log(1/γ) + m) m · (1 − 2η) 就足够了。 (6.9) 这个简单的引理非常强大。它告诉我们，在第 t 轮构建基本生成器时，我们只需要担心确保从 Dt 中采样的一小组随机查询得到良好的答案；大多数 Dt 表现良好都会自动发生！
